<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Factura Profesional PDF</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f0f0;
      padding: 20px;
    }
    .formulario {
      background: white;
      padding: 30px;
      max-width: 700px;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      margin-bottom: 30px;
      color: #333;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: 600;
    }
    textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 15px;
    }
    button {
      margin-top: 30px;
      padding: 12px 25px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>
  <div class="formulario">
    <h2>Generador de Factura PDF</h2>
    <label>Peg치 los datos del cliente:</label>
    <textarea id="datosCliente" rows="6" placeholder="Ejemplo:
AYBAR MAXIMILIANO RICARDO
20-36520980-5
33 a침os
Buenos Aires (Pcia)
Villa Dominico"></textarea>

    <button onclick="generarPDF()">Generar PDF</button>
  </div>

  <script>
    function generarPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      const datos = document.getElementById("datosCliente").value.trim().split("\n");
      const nombre = datos[0] || "";
      const cuil = datos[1] || "";
      const edad = datos[2] || "";
      const provincia = datos[3] || "";
      const localidad = datos[4] || "";

      const fecha = new Date().toLocaleDateString();
      let facturaNum = localStorage.getItem("facturaNum");
      facturaNum = facturaNum ? parseInt(facturaNum) + 1 : 1;
      localStorage.setItem("facturaNum", facturaNum);

      const clausula = `
Estimado/a cliente:

Le informamos que el monto de $5,000 abonado corresponde exclusivamente al proceso de evaluaci칩n y diagn칩stico profesional, destinado a determinar su aptitud para trabajar bajo nuestra metodolog칤a.

Actualmente gestionamos m치s de 557 clientes activos y hemos expandido nuestros servicios de forma digital, lo que nos permite ofrecer esta experiencia de manera remota. Como en todo proceso profesional, los resultados pueden variar.

游댳 Resultado de su evaluaci칩n: RECHAZADO

Lamentablemente, no podremos avanzar con una colaboraci칩n en este momento. Es importante destacar que el monto abonado ha sido consumido por el sistema en el proceso de an치lisis, y **no se contempla ning칰n tipo de reembolso** una vez iniciado el diagn칩stico.

Antes de realizar el pago, usted acept칩 los t칠rminos informativos donde se especifica que el resultado puede ser aceptado o rechazado, y que no depende exclusivamente de nuestra decisi칩n.

Somos emprendedores comprometidos con la 칠tica y la transparencia. Jam치s nos hemos quedado con dinero ajeno, y trabajamos d칤a a d칤a para brindar lo mejor a cada cliente.

Agradecemos su inter칠s y le deseamos lo mejor en sus pr칩ximos proyectos.
      `;

      // Encabezado
      doc.setFont("helvetica", "bold");
      doc.setTextColor(0, 102, 204); // azul
      doc.setFontSize(18);
      doc.text("Factura de Solicitud", 105, 20, { align: "center" });

      // Sello RECHAZADO
      doc.setTextColor(255, 0, 0); // rojo
      doc.setFontSize(30);
      doc.text("RECHAZADO", 105, 35, { align: "center" });

      // Datos del cliente
      doc.setFontSize(12);
      doc.setTextColor(0, 0, 0);
      doc.setDrawColor(150);
      doc.line(20, 42, 190, 42);
      doc.text(`Factura N췈: #${String(facturaNum).padStart(4, '0')}`, 20, 50);
      doc.text(`Fecha: ${fecha}`, 150, 50);
      doc.text(`Cliente: ${nombre}`, 20, 58);
      doc.text(`CUIL: ${cuil}`, 20, 65);
      doc.text(`Edad: ${edad}`, 20, 72);
      doc.text(`Provincia: ${provincia}`, 20, 79);
      doc.text(`Localidad: ${localidad}`, 20, 86);

      // Detalle de factura
      doc.line(20, 91, 190, 91);
      doc.setFont("helvetica", "bold");
      doc.text("Detalle de Factura:", 20, 98);
      doc.setFont("helvetica", "normal");
      doc.text("Concepto: Evaluaci칩n de solicitud", 20, 106);
      doc.text("Monto: $5,000", 150, 106);
      doc.line(20, 111, 190, 111);
      doc.setFont("helvetica", "bold");
      doc.text("Total: $5,000", 150, 118);

      // Cl치usula
      doc.line(20, 123, 190, 123);
      doc.setFont("helvetica", "bold");
      doc.text("Cl치usula Informativa:", 20, 130);
      doc.setFont("helvetica", "normal");
      const clausulaFormateada = doc.splitTextToSize(clausula, 170);
      doc.text(clausulaFormateada, 20, 138);

      doc.save(`factura_${nombre.replaceAll(" ", "_")}.pdf`);
    }
  </script>
</body>
</html>
